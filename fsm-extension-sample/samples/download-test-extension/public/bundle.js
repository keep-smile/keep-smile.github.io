(()=>{"use strict";var e={918:(e,t,i)=>{i.r(t),i.d(t,{ErrorType:()=>n,SHELL_EVENTS:()=>r,ShellSdk:()=>u});var n,r={Version1:{REQUIRE_CONTEXT:"V1.REQUIRE_CONTEXT",REQUIRE_AUTHENTICATION:"V1.REQUIRE_AUTHENTICATION",CLOSE:"V1.CLOSE",REQUIRE_PERMISSIONS:"V1.REQUIRE_PERMISSIONS",GET_PERMISSIONS:"V1.GET_PERMISSIONS",GET_SETTINGS:"V1.GET_SETTINGS",GET_STORAGE_ITEM:"V1.GET_STORAGE_ITEM",SET_STORAGE_ITEM:"V1.SET_STORAGE_ITEM",SET_VIEW_STATE:"V1.SET_VIEW_STATE",SET_TITLE:"V1.SET_TITLE",RESTORE_TITLE:"V1.RESTORE_TITLE",TO_APP:"V1.TO_APP",GET_FEATURE_FLAG:"V1.GET_FEATURE_FLAG",PRIVATE:{GET_ACCOUNT_SETTINGS:"V1.PRIVATE.GET_ACCOUNT_SETTINGS"},OUTLET:{ADD_PLUGIN:"V1.OUTLET.ADD_PLUGIN",REMOVE_PLUGIN:"V1.OUTLET.REMOVE_PLUGIN",REQUEST_CONTEXT:"V1.OUTLET.REQUEST_CONTEXT",LOADING_SUCCESS:"V1.OUTLET.LOADING_SUCCESS",LOADING_FAIL:"V1.OUTLET.LOADING_FAIL"}},Version2:{GET_STORAGE_ITEM:"V2.GET_STORAGE_ITEM",GET_PERMISSIONS:"V2.GET_PERMISSIONS"},ERROR:"ERROR"};!function(e){e.OUTLET_TIMEOUT="OUTLET_TIMEOUT",e.OUTLET_MAXIMUM_DEPTH="OUTLET_MAXIMUM_DEPTH",e.OUTLET_HTTPS_ERROR="OUTLET_HTTPS_ERROR"}(n||(n={}));var o=function(e,t){void 0===t&&(t=[]);var i=t.slice();for(var n in e)"string"==typeof e[n]?i.push(e[n]):"object"==typeof e[n]&&(i=o(e[n],i));return i},s=o(r),a=function(){function e(){this.messages=[]}return e.prototype.push=function(e,t){var i;i="incoming"===e.direction?"yes"===e.handled?"received and handled":"received and skipped":"sending",console.log(t+" "+i+" message: ",e),this.messages.push(e)},e.prototype.all=function(){return this.messages},e.prototype.allTable=function(){console.table(this.all())},e.prototype.filter=function(e){return this.messages.filter((function(t){if(e.type){if(Array.isArray(e.type)&&!e.type.some((function(e){return new RegExp(e).test(t.type)})))return!1;if("string"==typeof e.type&&!RegExp(e.type).test(t.type))return!1}if(e.component){if(Array.isArray(e.component)&&!e.component.some((function(e){return e===t.component})))return!1;if(e.component!==t.component)return!1}return!(e.direction&&e.direction!==t.direction||e.direction&&"incoming"===e.direction&&void 0!==e.handled&&e.handled!==("yes"===t.handled)||e.from&&e.from>t.timestamp||e.to&&e.to<t.timestamp)}))},e.prototype.filterTable=function(e){console.table(this.filter(e))},e}(),l=function(){function e(e,t){if(this.winRef=e,this.debugId=t,this.debugMode=!1,this.debugId){var i=this.winRef.localStorage.getItem("cs.fsm-shell.debug");i&&i.split(",").some((function(e){return e===t}))&&(this.debugMode=!0)}}return e.prototype.traceEvent=function(e,t,i,n,r){if(this.debugMode&&s.some((function(e){return e===t}))){var o={timestamp:new Date,component:this.debugId,direction:e,type:t,handled:"incoming"===e?r?"yes":"no":"n/a",to:n.to,from:n.from,payload:i};this.logEvent(o)}},e.prototype.logEvent=function(e){var t=this.winRef;t.fsmShellMessageLogger||(t.fsmShellMessageLogger=new a),t.fsmShellMessageLogger.push(e,this.debugId)},e}(),u=function(){function e(e,t,i,o,s){var a=this;this.target=e,this.origin=t,this.winRef=i,this.outletMaximumDepth=s,this.allowedOrigins=[],this.ignoredOrigins=[],this.on=function(e,t){return a.subscribersMap.has(e)||a.subscribersMap.set(e,[]),a.subscribersMap.get(e).push(t),function(){a.removeSubscriber(e,t)}},this.onViewState=function(e,t){return a.subscribersViewStateMap.has(e)||a.subscribersViewStateMap.set(e,[]),a.subscribersViewStateMap.get(e).push(t),function(){a.removeViewStateSubscriber(e,t)}},this.off=function(e,t){a.removeSubscriber(e,t)},this.offViewState=function(e,t){a.removeViewStateSubscriber(e,t)},this.onMessage=function(e){if(e.data&&"string"==typeof e.data.type&&(e.source===window.parent||!a.ignoredOrigins||!Array.isArray(a.ignoredOrigins)||0===a.ignoredOrigins.length||-1===a.ignoredOrigins.indexOf(e.origin)))if(e.source!==window.parent&&a.allowedOrigins&&Array.isArray(a.allowedOrigins)&&0!==a.allowedOrigins.length&&-1===a.allowedOrigins.indexOf(e.origin))console.error(e.origin+" is not in the list of known origins");else{var t=e.data;if(t.type!==r.Version1.OUTLET.LOADING_SUCCESS){if(!a.isRoot){var i=e.source;if(i){var o=Array.from(a.outletsMap.keys()).find((function(e){return e.contentWindow===i}));if(o&&o.src){if(new URL(o.src).origin!==e.origin)return void a.debugger.traceEvent("blocked",t.type,t.value,{from:t.from},!1);if(t.type===r.Version1.SET_VIEW_STATE)return void console.warn("[ShellSDk] A plugin tried to update viewState using SetViewState which is not allowed for security reason.");var s=t.from||[];if(t.type===r.Version1.OUTLET.REQUEST_CONTEXT&&s.length>=a.outletMaximumDepth)i.postMessage({type:r.Version1.OUTLET.LOADING_FAIL,value:{target:t.value.target,error:n.OUTLET_MAXIMUM_DEPTH},to:s},a.origin);else{var l=a.outletsMap.get(o);l&&(s=s.concat([l]),a.debugger.traceEvent("outgoing",t.type,t.value,{from:s},!0),a.target.postMessage({type:t.type,value:t.value,from:s},a.origin))}return}if(i!==a.target)return}if(t.type===r.Version1.SET_VIEW_STATE){a.outletsMap.forEach((function(e,i){i.contentWindow&&i.contentWindow.postMessage({type:t.type,value:t.value},a.origin)}));var u=a.subscribersViewStateMap.get(t.value.key);if(a.debugger.traceEvent("incoming",t.type,t.value,{},!!u),u)for(var c=0,g=u;c<g.length;c++)(0,g[c])(t.value.value);return}if(t.type!==r.Version1.OUTLET.REQUEST_CONTEXT||!t.value.hasOwnProperty("isConfigurationMode")||t.value.hasOwnProperty("target")||t.value.hasOwnProperty("plugin")||a.outletsMap.forEach((function(e,i){i.contentWindow&&i.contentWindow.postMessage({type:t.type,value:t.value},a.origin)})),t.to&&0!==t.to.length&&t.type!==r.Version1.TO_APP)return a.debugger.traceEvent("outgoing",t.type,t.value,{to:t.to},!0),void a.outletsMap.forEach((function(e,i){t.to&&-1!==t.to.indexOf(e)&&i.contentWindow&&i.contentWindow.postMessage({type:t.type,value:t.value,to:t.to.filter((function(t){return t!==e}))},a.origin)}))}var d=a.subscribersMap.get(t.type);if(a.debugger.traceEvent("incoming",t.type,t.value,{from:t.from},!!d),d)for(var f=0,p=d;f<p.length;f++)(0,p[f])(t.value,e.origin,t.type===r.Version1.SET_VIEW_STATE?null:t.from);if(!a.isRoot&&t.type===r.Version1.REQUIRE_CONTEXT){var E=("string"==typeof t.value?JSON.parse(t.value):t.value).viewState;if(E)for(var T=0,h=Object.keys(E);T<h.length;T++){var S=h[T];if(u=a.subscribersViewStateMap.get(""+S))for(var O=0,y=u;O<y.length;O++)(0,y[O])(E[S])}a.target.postMessage({type:r.Version1.OUTLET.LOADING_SUCCESS},a.origin)}}}},this.subscribersMap=new Map,this.subscribersViewStateMap=new Map,this.outletsMap=new Map,this.initMessageApi(),this.debugger=new l(i,o),this.isRoot=null==e}return e.init=function(t,i,n,r,o){return void 0===n&&(n=window),void 0===r&&(r=""),void 0===o&&(o=1),e._instance=new e(t,i,n,r,o),e._instance},Object.defineProperty(e,"instance",{get:function(){if(!e._instance)throw new Error("ShellSdk wasn't initialized.");return e._instance},enumerable:!0,configurable:!0}),e.isInsideShell=function(){var e=window;return e.self!==e.top},e.prototype.setAllowedOrigins=function(e){void 0===e&&(e=[]),this.allowedOrigins="*"===e?[]:e},e.prototype.addAllowedOrigin=function(e){var t;try{t=new URL(e)}catch(e){return}this.allowedOrigins.push(t.origin)},e.prototype.removeAllowedOrigin=function(e){var t;try{t=new URL(e)}catch(e){return}var i=this.allowedOrigins.findIndex((function(e){return e===t.origin}));this.allowedOrigins=this.allowedOrigins.filter((function(e,t){return t!==i}))},e.prototype.isOriginAllowed=function(e){var t;try{t=new URL(e)}catch(e){return!1}return this.allowedOrigins.some((function(e){return e===t.origin}))},e.prototype.setIgnoredOrigins=function(e){void 0===e&&(e=[]),this.ignoredOrigins=e},e.prototype.addIgnoredOrigin=function(e){var t;try{t=new URL(e)}catch(e){return}this.ignoredOrigins.push(t.origin)},e.prototype.removeIgnoredOrigin=function(e){var t;try{t=new URL(e)}catch(e){return}var i=this.ignoredOrigins.findIndex((function(e){return e===t.origin}));this.ignoredOrigins=this.ignoredOrigins.filter((function(e,t){return t!==i}))},e.prototype.registerOutlet=function(e){this.outletsMap.set(e,"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})))},e.prototype.unregisterOutlet=function(e){this.outletsMap.delete(e)},e.prototype.getTarget=function(){return this.target},e.prototype.setTarget=function(e,t){(this.target!==e||this.origin!==t)&&(this.target=e,this.origin=t)},e.prototype.emit=function(e,t,i){if(!this.postMessageHandler)throw new Error("ShellSdk wasn't initialized, message handler not set.");this.postMessageHandler(e,t,this.isRoot?i:void 0)},e.prototype.setViewState=function(e,t){if(!this.postMessageHandler)throw new Error("ShellSdk wasn't initialized, message handler not set.");this.postMessageHandler(r.Version1.SET_VIEW_STATE,{key:e,value:t})},e.prototype.removeSubscriber=function(e,t){var i=this.subscribersMap.get(e);i&&this.subscribersMap.set(e,i.filter((function(e){return e!==t})))},e.prototype.removeViewStateSubscriber=function(e,t){var i=this.subscribersViewStateMap.get(e);i&&this.subscribersViewStateMap.set(e,i.filter((function(e){return e!==t})))},e.prototype.initMessageApi=function(){var e=this;this.postMessageHandler=function(t,i,n){if(!e.target)throw new Error("ShellSdk wasn't initialized, target is missing.");if(!e.origin)throw new Error("ShellSdk wasn't initialized, origin is missing.");e.debugger.traceEvent("outgoing",t,i,{to:n},!0),e.target.postMessage({type:t,value:i,to:n},e.origin)},this.winRef.addEventListener("message",this.onMessage)},e.VERSION="1.11.2",e.BUILD_TS="2021-07-26T08:08:36.847Z",e}()},607:function(e,t,i){var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&n(t,e,i);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const s=o(i(38));window.addEventListener("load",(async()=>{let e="";if(s.isInsideShell){const t=await s.getContext();e="<ul>";for(const[i,n]of Object.entries(t))e+="object"==typeof n?`<li>${i}: ${JSON.stringify(n)}</li>`:`<li>${i}: ${n}</li>`;e+="</ul>"}var t;t=e,document.querySelectorAll("#info")[0].innerHTML=t;const i=document.getElementById("fileSelect"),n=document.getElementById("fileElem"),r=document.getElementById("fileList");console.log("ELEMENTS: ",{fileSelect:i,fileElem:n,fileList:r}),i.addEventListener("click",(function(e){console.log("File select cliecked"),n&&(console.log("Trigger fileElem click"),n.click()),e.preventDefault()}),!1),n.addEventListener("change",(function(){if(console.log("fileElem changed"),n.files.length){r.innerHTML="";const e=document.createElement("ul");r.appendChild(e);for(let t=0;t<n.files.length;t++){const i=document.createElement("li");e.appendChild(i);const r=document.createElement("a");r.innerHTML=`Download file ${t+1}`,r.href=URL.createObjectURL(n.files[t]),r.download=n.files[t].name,i.appendChild(r);const o=document.createElement("span");o.innerHTML=n.files[t].name+": "+n.files[t].size+" bytes",i.appendChild(o)}}else r.innerHTML="<p>No files selected!</p>"}),!1)}))},38:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getContext=t.isInsideShell=void 0;const n=i(918);let r;n.ShellSdk.isInsideShell()&&(r=n.ShellSdk.init(parent,"*")),t.isInsideShell=!!r,t.getContext=()=>new Promise(((e,t)=>{r?(r.emit(n.SHELL_EVENTS.Version1.REQUIRE_CONTEXT,{auth:{response_type:"token"}}),r.on(n.SHELL_EVENTS.Version1.REQUIRE_CONTEXT,(t=>{e(JSON.parse(t))}))):t("App is not running inside Shell")}))}},t={};function i(n){var r=t[n];if(void 0!==r)return r.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,i),o.exports}i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i(607)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RWxFSCxHQUdMQSxFQUFTdEMsS0FBSyxFQUFBL0ssYUFBYUMsU0FBU0MsZ0JBQWlCLENBQ25EdU4sS0FBTSxDQUNKQyxjQUFlLFdBS25CTCxFQUFTaEksR0FBRyxFQUFBckYsYUFBYUMsU0FBU0MsaUJBQWtCbUMsSUFDbERrTCxFQUFRcEYsS0FBS0MsTUFBTS9GLFFBWEptTCxFQUFPLHdDQ2R0QkcsRUFBMkIsR0FHL0IsU0FBU0MsRUFBb0JDLEdBRTVCLElBQUlDLEVBQWVILEVBQXlCRSxHQUM1QyxRQUFxQjVDLElBQWpCNkMsRUFDSCxPQUFPQSxFQUFhQyxRQUdyQixJQUFJQyxFQUFTTCxFQUF5QkUsR0FBWSxDQUdqREUsUUFBUyxJQU9WLE9BSEFFLEVBQW9CSixHQUFVSyxLQUFLRixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTSCxHQUdwRUksRUFBT0QsUUNwQmZILEVBQW9CTyxFQUFJLENBQUNKLEVBQVNLLEtBQ2pDLElBQUksSUFBSXRNLEtBQU9zTSxFQUNYUixFQUFvQlMsRUFBRUQsRUFBWXRNLEtBQVM4TCxFQUFvQlMsRUFBRU4sRUFBU2pNLElBQzVFeUcsT0FBT08sZUFBZWlGLEVBQVNqTSxFQUFLLENBQUVrSCxZQUFZLEVBQU10RCxJQUFLMEksRUFBV3RNLE1DSjNFOEwsRUFBb0JTLEVBQUksQ0FBQ0MsRUFBS0MsSUFBVWhHLE9BQU9uRyxVQUFVeUYsZUFBZXFHLEtBQUtJLEVBQUtDLEdDQ2xGWCxFQUFvQnJELEVBQUt3RCxJQUNILG9CQUFYUyxRQUEwQkEsT0FBT0MsYUFDMUNsRyxPQUFPTyxlQUFlaUYsRUFBU1MsT0FBT0MsWUFBYSxDQUFFdEgsTUFBTyxXQUU3RG9CLE9BQU9PLGVBQWVpRixFQUFTLGFBQWMsQ0FBRTVHLE9BQU8sS0NGN0J5RyxFQUFvQixNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnNtLWV4dGVuc2lvbi1kb3dubG9hZC10ZXN0LTAxLy4vbm9kZV9tb2R1bGVzL2ZzbS1zaGVsbC9yZWxlYXNlL2ZzbS1zaGVsbC1jbGllbnQuZXMuanMiLCJ3ZWJwYWNrOi8vZnNtLWV4dGVuc2lvbi1kb3dubG9hZC10ZXN0LTAxLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovL2ZzbS1leHRlbnNpb24tZG93bmxvYWQtdGVzdC0wMS8uL3NyYy9zaGVsbC1zZGstaGVscGVyLnRzIiwid2VicGFjazovL2ZzbS1leHRlbnNpb24tZG93bmxvYWQtdGVzdC0wMS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9mc20tZXh0ZW5zaW9uLWRvd25sb2FkLXRlc3QtMDEvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL2ZzbS1leHRlbnNpb24tZG93bmxvYWQtdGVzdC0wMS93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2ZzbS1leHRlbnNpb24tZG93bmxvYWQtdGVzdC0wMS93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL2ZzbS1leHRlbnNpb24tZG93bmxvYWQtdGVzdC0wMS93ZWJwYWNrL3N0YXJ0dXAiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIFNIRUxMX0VWRU5UUyA9IHtcclxuICAgIFZlcnNpb24xOiB7XHJcbiAgICAgICAgUkVRVUlSRV9DT05URVhUOiAnVjEuUkVRVUlSRV9DT05URVhUJyxcclxuICAgICAgICBSRVFVSVJFX0FVVEhFTlRJQ0FUSU9OOiAnVjEuUkVRVUlSRV9BVVRIRU5USUNBVElPTicsXHJcbiAgICAgICAgQ0xPU0U6ICdWMS5DTE9TRScsXHJcbiAgICAgICAgUkVRVUlSRV9QRVJNSVNTSU9OUzogJ1YxLlJFUVVJUkVfUEVSTUlTU0lPTlMnLFxyXG4gICAgICAgIEdFVF9QRVJNSVNTSU9OUzogJ1YxLkdFVF9QRVJNSVNTSU9OUycsXHJcbiAgICAgICAgR0VUX1NFVFRJTkdTOiAnVjEuR0VUX1NFVFRJTkdTJyxcclxuICAgICAgICBHRVRfU1RPUkFHRV9JVEVNOiAnVjEuR0VUX1NUT1JBR0VfSVRFTScsXHJcbiAgICAgICAgU0VUX1NUT1JBR0VfSVRFTTogJ1YxLlNFVF9TVE9SQUdFX0lURU0nLFxyXG4gICAgICAgIFNFVF9WSUVXX1NUQVRFOiAnVjEuU0VUX1ZJRVdfU1RBVEUnLFxyXG4gICAgICAgIFNFVF9USVRMRTogJ1YxLlNFVF9USVRMRScsXHJcbiAgICAgICAgUkVTVE9SRV9USVRMRTogJ1YxLlJFU1RPUkVfVElUTEUnLFxyXG4gICAgICAgIFRPX0FQUDogJ1YxLlRPX0FQUCcsXHJcbiAgICAgICAgR0VUX0ZFQVRVUkVfRkxBRzogJ1YxLkdFVF9GRUFUVVJFX0ZMQUcnLFxyXG4gICAgICAgIFBSSVZBVEU6IHtcclxuICAgICAgICAgICAgR0VUX0FDQ09VTlRfU0VUVElOR1M6ICdWMS5QUklWQVRFLkdFVF9BQ0NPVU5UX1NFVFRJTkdTJyxcclxuICAgICAgICB9LFxyXG4gICAgICAgIE9VVExFVDoge1xyXG4gICAgICAgICAgICBBRERfUExVR0lOOiAnVjEuT1VUTEVULkFERF9QTFVHSU4nLFxyXG4gICAgICAgICAgICBSRU1PVkVfUExVR0lOOiAnVjEuT1VUTEVULlJFTU9WRV9QTFVHSU4nLFxyXG4gICAgICAgICAgICBSRVFVRVNUX0NPTlRFWFQ6ICdWMS5PVVRMRVQuUkVRVUVTVF9DT05URVhUJyxcclxuICAgICAgICAgICAgTE9BRElOR19TVUNDRVNTOiAnVjEuT1VUTEVULkxPQURJTkdfU1VDQ0VTUycsXHJcbiAgICAgICAgICAgIExPQURJTkdfRkFJTDogJ1YxLk9VVExFVC5MT0FESU5HX0ZBSUwnLFxyXG4gICAgICAgIH0sXHJcbiAgICB9LFxyXG4gICAgVmVyc2lvbjI6IHtcclxuICAgICAgICBHRVRfU1RPUkFHRV9JVEVNOiAnVjIuR0VUX1NUT1JBR0VfSVRFTScsXHJcbiAgICAgICAgR0VUX1BFUk1JU1NJT05TOiAnVjIuR0VUX1BFUk1JU1NJT05TJyxcclxuICAgIH0sXHJcbiAgICBFUlJPUjogJ0VSUk9SJyxcclxufTtcclxudmFyIEVycm9yVHlwZTtcclxuKGZ1bmN0aW9uIChFcnJvclR5cGUpIHtcclxuICAgIEVycm9yVHlwZVtcIk9VVExFVF9USU1FT1VUXCJdID0gXCJPVVRMRVRfVElNRU9VVFwiO1xyXG4gICAgRXJyb3JUeXBlW1wiT1VUTEVUX01BWElNVU1fREVQVEhcIl0gPSBcIk9VVExFVF9NQVhJTVVNX0RFUFRIXCI7XHJcbiAgICBFcnJvclR5cGVbXCJPVVRMRVRfSFRUUFNfRVJST1JcIl0gPSBcIk9VVExFVF9IVFRQU19FUlJPUlwiO1xyXG59KShFcnJvclR5cGUgfHwgKEVycm9yVHlwZSA9IHt9KSk7XHJcbnZhciBnZXRLZXlWYWx1ZXMgPSBmdW5jdGlvbiAoc291cmNlLCBpbml0aWFsKSB7XHJcbiAgICBpZiAoaW5pdGlhbCA9PT0gdm9pZCAwKSB7IGluaXRpYWwgPSBbXTsgfVxyXG4gICAgdmFyIHJlc3VsdCA9IGluaXRpYWwuc2xpY2UoKTtcclxuICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHNvdXJjZVtrZXldID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICByZXN1bHQucHVzaChzb3VyY2Vba2V5XSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBzb3VyY2Vba2V5XSA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICAgICAgcmVzdWx0ID0gZ2V0S2V5VmFsdWVzKHNvdXJjZVtrZXldLCByZXN1bHQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn07XHJcbnZhciBBTExfU0hFTExfRVZFTlRTX0FSUkFZID0gZ2V0S2V5VmFsdWVzKFNIRUxMX0VWRU5UUyk7XG5cbi8vIFRIRSBGSUxFIFNIRUxMVkVSU0lPTklORk8uVFMgSVMgQVVUT01BVElDQUxMWSBHRU5FUkFURUQgRFVSSU5HIEJVSUxEIFBST0NFU1NcclxuLy8gTUFOVUFMIENIQU5HRVMgVE8gVEhJUyBGSUxFIFdJTEwgQkUgT1ZFUldSSVRURU4gISEhXHJcbnZhciBTSEVMTF9WRVJTSU9OX0lORk8gPSB7XHJcbiAgICBWRVJTSU9OOiAnMS4xMS4yJyxcclxuICAgIEJVSUxEX1RTOiAnMjAyMS0wNy0yNlQwODowODozNi44NDdaJ1xyXG59O1xuXG52YXIgTWVzc2FnZUxvZ2dlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIE1lc3NhZ2VMb2dnZXIoKSB7XHJcbiAgICAgICAgdGhpcy5tZXNzYWdlcyA9IFtdO1xyXG4gICAgfVxyXG4gICAgTWVzc2FnZUxvZ2dlci5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uIChldmVudCwgZGVidWdJZCkge1xyXG4gICAgICAgIHZhciBhY3Rpb247XHJcbiAgICAgICAgaWYgKGV2ZW50LmRpcmVjdGlvbiA9PT0gJ2luY29taW5nJykge1xyXG4gICAgICAgICAgICBpZiAoZXZlbnQuaGFuZGxlZCA9PT0gJ3llcycpIHtcclxuICAgICAgICAgICAgICAgIGFjdGlvbiA9ICdyZWNlaXZlZCBhbmQgaGFuZGxlZCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBhY3Rpb24gPSAncmVjZWl2ZWQgYW5kIHNraXBwZWQnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBhY3Rpb24gPSAnc2VuZGluZyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnNvbGUubG9nKGRlYnVnSWQgKyBcIiBcIiArIGFjdGlvbiArIFwiIG1lc3NhZ2U6IFwiLCBldmVudCk7XHJcbiAgICAgICAgdGhpcy5tZXNzYWdlcy5wdXNoKGV2ZW50KTtcclxuICAgIH07XHJcbiAgICBNZXNzYWdlTG9nZ2VyLnByb3RvdHlwZS5hbGwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubWVzc2FnZXM7XHJcbiAgICB9O1xyXG4gICAgTWVzc2FnZUxvZ2dlci5wcm90b3R5cGUuYWxsVGFibGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY29uc29sZS50YWJsZSh0aGlzLmFsbCgpKTtcclxuICAgIH07XHJcbiAgICBNZXNzYWdlTG9nZ2VyLnByb3RvdHlwZS5maWx0ZXIgPSBmdW5jdGlvbiAob3B0aW9ucykge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1lc3NhZ2VzLmZpbHRlcihmdW5jdGlvbiAobWVzc2FnZSkge1xyXG4gICAgICAgICAgICBpZiAob3B0aW9ucy50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvcHRpb25zLnR5cGUpICYmICFvcHRpb25zLnR5cGUuc29tZShmdW5jdGlvbiAodHlwZSkgeyByZXR1cm4gbmV3IFJlZ0V4cCh0eXBlKS50ZXN0KG1lc3NhZ2UudHlwZSk7IH0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMudHlwZSA9PT0gJ3N0cmluZycgJiYgIVJlZ0V4cChvcHRpb25zLnR5cGUpLnRlc3QobWVzc2FnZS50eXBlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5jb21wb25lbnQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9wdGlvbnMuY29tcG9uZW50KSAmJiAhb3B0aW9ucy5jb21wb25lbnQuc29tZShmdW5jdGlvbiAoaXQpIHsgcmV0dXJuIGl0ID09PSBtZXNzYWdlLmNvbXBvbmVudDsgfSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChvcHRpb25zLmNvbXBvbmVudCAhPT0gbWVzc2FnZS5jb21wb25lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuZGlyZWN0aW9uICYmIG9wdGlvbnMuZGlyZWN0aW9uICE9PSBtZXNzYWdlLmRpcmVjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmRpcmVjdGlvbiAmJlxyXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5kaXJlY3Rpb24gPT09ICdpbmNvbWluZycgJiZcclxuICAgICAgICAgICAgICAgIHR5cGVvZiBvcHRpb25zLmhhbmRsZWQgIT09ICd1bmRlZmluZWQnICYmXHJcbiAgICAgICAgICAgICAgICBvcHRpb25zLmhhbmRsZWQgIT09IChtZXNzYWdlLmhhbmRsZWQgPT09ICd5ZXMnKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmZyb20gJiYgb3B0aW9ucy5mcm9tID4gbWVzc2FnZS50aW1lc3RhbXApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAob3B0aW9ucy50byAmJiBvcHRpb25zLnRvIDwgbWVzc2FnZS50aW1lc3RhbXApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBNZXNzYWdlTG9nZ2VyLnByb3RvdHlwZS5maWx0ZXJUYWJsZSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcbiAgICAgICAgY29uc29sZS50YWJsZSh0aGlzLmZpbHRlcihvcHRpb25zKSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIE1lc3NhZ2VMb2dnZXI7XHJcbn0oKSk7XG5cbnZhciBGU01fU0hFTExfREVCVUdfS0VZID0gJ2NzLmZzbS1zaGVsbC5kZWJ1Zyc7XHJcbnZhciBEZWJ1Z2dlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIERlYnVnZ2VyKHdpblJlZiwgZGVidWdJZCkge1xyXG4gICAgICAgIHRoaXMud2luUmVmID0gd2luUmVmO1xyXG4gICAgICAgIHRoaXMuZGVidWdJZCA9IGRlYnVnSWQ7XHJcbiAgICAgICAgdGhpcy5kZWJ1Z01vZGUgPSBmYWxzZTtcclxuICAgICAgICBpZiAodGhpcy5kZWJ1Z0lkKSB7XHJcbiAgICAgICAgICAgIHZhciB3aW4gPSB0aGlzLndpblJlZjtcclxuICAgICAgICAgICAgdmFyIGxvY2FsU3RvcmFnZVZhbHVlID0gd2luLmxvY2FsU3RvcmFnZS5nZXRJdGVtKEZTTV9TSEVMTF9ERUJVR19LRVkpO1xyXG4gICAgICAgICAgICBpZiAoISFsb2NhbFN0b3JhZ2VWYWx1ZSAmJiBsb2NhbFN0b3JhZ2VWYWx1ZS5zcGxpdCgnLCcpLnNvbWUoZnVuY3Rpb24gKGl0KSB7IHJldHVybiBpdCA9PT0gZGVidWdJZDsgfSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGVidWdNb2RlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIERlYnVnZ2VyLnByb3RvdHlwZS50cmFjZUV2ZW50ID0gZnVuY3Rpb24gKGRpcmVjdGlvbiwgdHlwZSwgcGF5bG9hZCwgcm91dGluZywgaGFzSGFuZGxlcikge1xyXG4gICAgICAgIGlmICh0aGlzLmRlYnVnTW9kZSAmJiBBTExfU0hFTExfRVZFTlRTX0FSUkFZLnNvbWUoZnVuY3Rpb24gKGl0KSB7IHJldHVybiBpdCA9PT0gdHlwZTsgfSkpIHtcclxuICAgICAgICAgICAgdmFyIGRlYnVnRXZlbnQgPSB7XHJcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnQ6IHRoaXMuZGVidWdJZCxcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbjogZGlyZWN0aW9uLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogdHlwZSxcclxuICAgICAgICAgICAgICAgIGhhbmRsZWQ6IGRpcmVjdGlvbiA9PT0gJ2luY29taW5nJyA/IChoYXNIYW5kbGVyID8gJ3llcycgOiAnbm8nKSA6ICduL2EnLFxyXG4gICAgICAgICAgICAgICAgdG86IHJvdXRpbmcudG8sXHJcbiAgICAgICAgICAgICAgICBmcm9tOiByb3V0aW5nLmZyb20sXHJcbiAgICAgICAgICAgICAgICBwYXlsb2FkOiBwYXlsb2FkXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRoaXMubG9nRXZlbnQoZGVidWdFdmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIERlYnVnZ2VyLnByb3RvdHlwZS5sb2dFdmVudCA9IGZ1bmN0aW9uIChkZWJ1Z0V2ZW50KSB7XHJcbiAgICAgICAgdmFyIHdpbiA9IHRoaXMud2luUmVmO1xyXG4gICAgICAgIGlmICghd2luLmZzbVNoZWxsTWVzc2FnZUxvZ2dlcikge1xyXG4gICAgICAgICAgICB3aW4uZnNtU2hlbGxNZXNzYWdlTG9nZ2VyID0gbmV3IE1lc3NhZ2VMb2dnZXIoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgd2luLmZzbVNoZWxsTWVzc2FnZUxvZ2dlci5wdXNoKGRlYnVnRXZlbnQsIHRoaXMuZGVidWdJZCk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIERlYnVnZ2VyO1xyXG59KCkpO1xuXG4vLyB0c2xpbnQ6ZGlzYWJsZVxyXG5mdW5jdGlvbiB1dWlkdjQoKSB7XHJcbiAgICByZXR1cm4gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbiAoYykge1xyXG4gICAgICAgIHZhciByID0gKE1hdGgucmFuZG9tKCkgKiAxNikgfCAwO1xyXG4gICAgICAgIHZhciB2ID0gYyA9PSAneCcgPyByIDogKHIgJiAweDMpIHwgMHg4O1xyXG4gICAgICAgIHJldHVybiB2LnRvU3RyaW5nKDE2KTtcclxuICAgIH0pO1xyXG59XHJcbi8vIHRzbGludDplbmFibGVcclxudmFyIERFRkFVTFRfTUFYSU1VTV9ERVBUSCA9IDE7XHJcbnZhciBTaGVsbFNkayA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFNoZWxsU2RrKHRhcmdldCwgb3JpZ2luLCB3aW5SZWYsIGRlYnVnSWQsIG91dGxldE1heGltdW1EZXB0aCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XHJcbiAgICAgICAgdGhpcy5vcmlnaW4gPSBvcmlnaW47XHJcbiAgICAgICAgdGhpcy53aW5SZWYgPSB3aW5SZWY7XHJcbiAgICAgICAgdGhpcy5vdXRsZXRNYXhpbXVtRGVwdGggPSBvdXRsZXRNYXhpbXVtRGVwdGg7XHJcbiAgICAgICAgdGhpcy5hbGxvd2VkT3JpZ2lucyA9IFtdO1xyXG4gICAgICAgIHRoaXMuaWdub3JlZE9yaWdpbnMgPSBbXTtcclxuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmVcclxuICAgICAgICB0aGlzLm9uID0gZnVuY3Rpb24gKHR5cGUsIHN1YnNjcmliZXIpIHtcclxuICAgICAgICAgICAgaWYgKCFfdGhpcy5zdWJzY3JpYmVyc01hcC5oYXModHlwZSkpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnN1YnNjcmliZXJzTWFwLnNldCh0eXBlLCBbXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lXHJcbiAgICAgICAgICAgIHZhciBzdWJzY3JpYmVycyA9IF90aGlzLnN1YnNjcmliZXJzTWFwLmdldCh0eXBlKTtcclxuICAgICAgICAgICAgc3Vic2NyaWJlcnMucHVzaChzdWJzY3JpYmVyKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnJlbW92ZVN1YnNjcmliZXIodHlwZSwgc3Vic2NyaWJlcik7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmVcclxuICAgICAgICB0aGlzLm9uVmlld1N0YXRlID0gZnVuY3Rpb24gKGtleSwgc3Vic2NyaWJlcikge1xyXG4gICAgICAgICAgICBpZiAoIV90aGlzLnN1YnNjcmliZXJzVmlld1N0YXRlTWFwLmhhcyhrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zdWJzY3JpYmVyc1ZpZXdTdGF0ZU1hcC5zZXQoa2V5LCBbXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lXHJcbiAgICAgICAgICAgIHZhciBzdWJzY3JpYmVycyA9IF90aGlzLnN1YnNjcmliZXJzVmlld1N0YXRlTWFwLmdldChrZXkpO1xyXG4gICAgICAgICAgICBzdWJzY3JpYmVycy5wdXNoKHN1YnNjcmliZXIpO1xyXG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMucmVtb3ZlVmlld1N0YXRlU3Vic2NyaWJlcihrZXksIHN1YnNjcmliZXIpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lXHJcbiAgICAgICAgdGhpcy5vZmYgPSBmdW5jdGlvbiAodHlwZSwgc3Vic2NyaWJlcikge1xyXG4gICAgICAgICAgICBfdGhpcy5yZW1vdmVTdWJzY3JpYmVyKHR5cGUsIHN1YnNjcmliZXIpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lXHJcbiAgICAgICAgdGhpcy5vZmZWaWV3U3RhdGUgPSBmdW5jdGlvbiAoa2V5LCBzdWJzY3JpYmVyKSB7XHJcbiAgICAgICAgICAgIF90aGlzLnJlbW92ZVZpZXdTdGF0ZVN1YnNjcmliZXIoa2V5LCBzdWJzY3JpYmVyKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8qXHJcbiAgICAgICAgICBNZXNzYWdlIGhhbmRsZXIsIGdlbmVyaWMgZm9yIGFsbCBTaGVsbFNESyBpbnN0YW5jZXMgYnV0IGhhdmUgZGlmZmVyZW50IGJlaGF2aW91cnMgaWYgcm9vdCBvZiBub3QuXHJcbiAgICAgIFxuICAgICAgICAgIC0gSWYgcm9vdCwgd2UgaGFuZGxlIGFsbCBtZXNzYWdlcyB0byBzdWJzY3JpYmVyc1xyXG4gICAgICAgICAgLSBJZiBub3Qgcm9vdCwgYW5kIHJlY2VpdmUgYSBtZXNzYWdlIGZyb20gYW4gaWZyYW1lIHJlZ2lzdGVyZWQgYXMgb3V0bGV0LCB3ZSBzZW5kIHRvIHBhcmVudCBub2RlXHJcbiAgICAgICAgICBhbmQgYWRkIG5vZGUncyBpZCB0byBhbGxvdyByZXR1cm4gaWYgbmVlZGVkLlxyXG4gICAgICAgICAgLSBJZiBub3Qgcm9vdCBhbmQgcmVjZWl2ZSBTRVRfVklFV19TVEFURSwgd2Ugc2V0IG5ldyB2YWx1ZSBvbiBsb2NhbCBub2RlIGFuZCBwcm9wYWdhdGUgdG8gb3V0bGV0c1xyXG4gICAgICAgICAgLSBJZiBub3Qgcm9vdCBhbmQgcmVjZWl2ZSBUT19BUFAsIHdlIGhhbmRsZSBsb2NhbGx5IGFuZCBkbyBub3QgcHJvcGFnYXRlIHRvIG91dGxldHNcclxuICAgICAgICAgIC0gSWYgbm90IHJvb3QgYW5kIHJlY2VpdmUgYW55IG1lc3NhZ2Ugd2l0aCBgdG9gIHZhbHVlLCB3ZSByZW1vdmUgb3VyIGlkIGFuZCBzZW5kIHRvIGRlc3RpbmF0aW9uXHJcbiAgICAgIFxuICAgICAgICAgIEFsc28gZGVmaW5lIGEgbmV3IGV2ZW50IGZvciBSRVFVSVJFX0NPTlRFWFQgd2hpY2ggbm93IGNvbnRhaW5zIFZpZXdTdGF0ZS4gVG8gdXNlIFZpZXdTdGF0ZSBiaW5kaW5nXHJcbiAgICAgICAgICBhbmQgYXZvaWQgZHVwbGljYXRlIGtleSB3ZSBmaXJzdCBwcm92aWRlIFJFUVVJUkVfQ09OVEVYVCB0byBpbml0IGN1cnJyZW50IG5vZGUsIHRoZW4gcHJvcGFnYXRlIGVhY2hcclxuICAgICAgICAgIGtleSBvZiBWaWV3U3RhdGUgaW5kaXZpZHVhbHkgdG8gbWF0Y2ggcG90ZW50aWFsIHN1YnNjcmlwdGlvbnMuIFRvIGF2b2lkIFVJIGdsaXRjaCBhZnRlciB0aGlzIHdlXHJcbiAgICAgICAgICBzZW5kIGFuIGVtcHR5IFJFUVVJUkVfQ09OVEVYVF9ET05FIHRvIGV2ZW50dWFsbHkgYWRqdXN0IFVJIGlmIG5lZWRlZC5cclxuICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMub25NZXNzYWdlID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIGlmICghZXZlbnQuZGF0YSB8fCB0eXBlb2YgZXZlbnQuZGF0YS50eXBlICE9PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChldmVudC5zb3VyY2UgIT09IHdpbmRvdy5wYXJlbnQgJiZcclxuICAgICAgICAgICAgICAgIF90aGlzLmlnbm9yZWRPcmlnaW5zICYmXHJcbiAgICAgICAgICAgICAgICBBcnJheS5pc0FycmF5KF90aGlzLmlnbm9yZWRPcmlnaW5zKSAmJlxyXG4gICAgICAgICAgICAgICAgX3RoaXMuaWdub3JlZE9yaWdpbnMubGVuZ3RoICE9PSAwICYmXHJcbiAgICAgICAgICAgICAgICBfdGhpcy5pZ25vcmVkT3JpZ2lucy5pbmRleE9mKGV2ZW50Lm9yaWdpbikgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGV2ZW50LnNvdXJjZSAhPT0gd2luZG93LnBhcmVudCAmJlxyXG4gICAgICAgICAgICAgICAgX3RoaXMuYWxsb3dlZE9yaWdpbnMgJiZcclxuICAgICAgICAgICAgICAgIEFycmF5LmlzQXJyYXkoX3RoaXMuYWxsb3dlZE9yaWdpbnMpICYmXHJcbiAgICAgICAgICAgICAgICBfdGhpcy5hbGxvd2VkT3JpZ2lucy5sZW5ndGggIT09IDAgJiZcclxuICAgICAgICAgICAgICAgIF90aGlzLmFsbG93ZWRPcmlnaW5zLmluZGV4T2YoZXZlbnQub3JpZ2luKSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXZlbnQub3JpZ2luICsgXCIgaXMgbm90IGluIHRoZSBsaXN0IG9mIGtub3duIG9yaWdpbnNcIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHBheWxvYWQgPSBldmVudC5kYXRhO1xyXG4gICAgICAgICAgICAvLyB3ZSBpZ25vcmUgTE9BRElORyBTVUNDRVNTIGFzIGl0IGlzIGhhbmRsZWQgYnkgdGhlIG91dGxldCBjb21wb25lbnQgaXRzZWxmXHJcbiAgICAgICAgICAgIGlmIChwYXlsb2FkLnR5cGUgPT09IFNIRUxMX0VWRU5UUy5WZXJzaW9uMS5PVVRMRVQuTE9BRElOR19TVUNDRVNTKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gSWYgY3VycmVudCBpbnN0YW5jZSBpcyBub3Qgcm9vdCwgd2UgYWN0IGFzIG1pZGRsZW1hbiBub2RlIHRvIHByb3BhZ2F0ZVxyXG4gICAgICAgICAgICBpZiAoIV90aGlzLmlzUm9vdCkge1xyXG4gICAgICAgICAgICAgICAgLy8gTWVzc2FnZSBjb21lIGZyb20gYSByZWdpc3RlcmVkIG91dGxldCwgd2Ugc2VuZCB0byBwYXJlbnQgKHRoaXMudGFyZ2V0KSB3aXRoIGEgYGZyb21gIHZhbHVlXHJcbiAgICAgICAgICAgICAgICB2YXIgc291cmNlXzEgPSBldmVudC5zb3VyY2U7XHJcbiAgICAgICAgICAgICAgICBpZiAoc291cmNlXzEpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBJZiBoYXMgYSBzb3VyY2UsIHdlIGxvb2sgaWYgaXQgY29tZSBmcm9tIG9uZSBvZiBvdXIgSFRNTElGcmFtZUVsZW1lbnRcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaUZyYW1lRWxlbWVudCA9IEFycmF5LmZyb20oX3RoaXMub3V0bGV0c01hcC5rZXlzKCkpLmZpbmQoZnVuY3Rpb24gKGZyYW1lKSB7IHJldHVybiBmcmFtZS5jb250ZW50V2luZG93ID09PSBzb3VyY2VfMTsgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlGcmFtZUVsZW1lbnQgJiYgaUZyYW1lRWxlbWVudC5zcmMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlGcmFtZU9yaWdpbiA9IG5ldyBVUkwoaUZyYW1lRWxlbWVudC5zcmMpLm9yaWdpbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlGcmFtZU9yaWdpbiAhPT0gZXZlbnQub3JpZ2luKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBpdCBjb21lcyBmcm9tIHVucmVnaXN0ZXJlZCBpRnJhbWUgd2UgaWdub3JlIGl0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpbiBvcmRlciB0byBwcmV2ZW50IHVuYXV0aG9yaXplZCBhY2Nlc3MgdG8gdGhlIGRhdGFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmRlYnVnZ2VyLnRyYWNlRXZlbnQoJ2Jsb2NrZWQnLCBwYXlsb2FkLnR5cGUsIHBheWxvYWQudmFsdWUsIHsgZnJvbTogcGF5bG9hZC5mcm9tIH0sIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBpdCBjb21lIGZyb20gYW4gb3V0bGV0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXlsb2FkLnR5cGUgPT09IFNIRUxMX0VWRU5UUy5WZXJzaW9uMS5TRVRfVklFV19TVEFURSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdbU2hlbGxTRGtdIEEgcGx1Z2luIHRyaWVkIHRvIHVwZGF0ZSB2aWV3U3RhdGUgdXNpbmcgU2V0Vmlld1N0YXRlIHdoaWNoIGlzIG5vdCBhbGxvd2VkIGZvciBzZWN1cml0eSByZWFzb24uJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZyb20gPSBwYXlsb2FkLmZyb20gfHwgW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHdlIHJlY2VpdmUgZnJvbSBvdXRsZXQgcmVxdWVzdF9jb250ZXh0IHRvIGZldGNoIHBsdWdpbiBmcm9tIHRhcmdldCwgd2UgcmV0dXJuIExPQURJTkdfRkFJTFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiB0b28gbWFueSBkZXB0aCBleGNoYW5nZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBheWxvYWQudHlwZSA9PT0gU0hFTExfRVZFTlRTLlZlcnNpb24xLk9VVExFVC5SRVFVRVNUX0NPTlRFWFQgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20ubGVuZ3RoID49IF90aGlzLm91dGxldE1heGltdW1EZXB0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlXzEucG9zdE1lc3NhZ2Uoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFNIRUxMX0VWRU5UUy5WZXJzaW9uMS5PVVRMRVQuTE9BRElOR19GQUlMLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldDogcGF5bG9hZC52YWx1ZS50YXJnZXQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBFcnJvclR5cGUuT1VUTEVUX01BWElNVU1fREVQVEgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bzogZnJvbSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIF90aGlzLm9yaWdpbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXVpZCA9IF90aGlzLm91dGxldHNNYXAuZ2V0KGlGcmFtZUVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHV1aWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIGlzIHRoZSB1dWlkIG91dGxldCB1c2VkIGZvciByb3V0aW5nIG9mIHNvdXJjZSBvYmplY3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tID0gZnJvbS5jb25jYXQoW3V1aWRdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5kZWJ1Z2dlci50cmFjZUV2ZW50KCdvdXRnb2luZycsIHBheWxvYWQudHlwZSwgcGF5bG9hZC52YWx1ZSwgeyBmcm9tOiBmcm9tIH0sIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnRhcmdldC5wb3N0TWVzc2FnZSh7IHR5cGU6IHBheWxvYWQudHlwZSwgdmFsdWU6IHBheWxvYWQudmFsdWUsIGZyb206IGZyb20gfSwgX3RoaXMub3JpZ2luKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNvdXJjZV8xICE9PSBfdGhpcy50YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2hlbGxTZGsgbm93IGlnbm9yZSBtZXNzYWdlcyBmcm9tIG91dGxldHMgaWYgaXQgaGFzIG5vIG91dGxldCByZWdpc3RlcmVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBQcm9wYWdhdGUgU0VUX1ZJRVdfU1RBVEUgdG8gY2hpbGRyZW5zJ3Mgb3V0bGV0IGFuZHNldCB2YWx1ZSB0byBjdXJyZW50IHN1YnNjcmliZXJzXHJcbiAgICAgICAgICAgICAgICBpZiAocGF5bG9hZC50eXBlID09PSBTSEVMTF9FVkVOVFMuVmVyc2lvbjEuU0VUX1ZJRVdfU1RBVEUpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5vdXRsZXRzTWFwLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtleS5jb250ZW50V2luZG93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkuY29udGVudFdpbmRvdy5wb3N0TWVzc2FnZSh7IHR5cGU6IHBheWxvYWQudHlwZSwgdmFsdWU6IHBheWxvYWQudmFsdWUgfSwgX3RoaXMub3JpZ2luKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0aGlzU3Vic2NyaWJlcnMgPSBfdGhpcy5zdWJzY3JpYmVyc1ZpZXdTdGF0ZU1hcC5nZXQocGF5bG9hZC52YWx1ZS5rZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmRlYnVnZ2VyLnRyYWNlRXZlbnQoJ2luY29taW5nJywgcGF5bG9hZC50eXBlLCBwYXlsb2FkLnZhbHVlLCB7fSwgISF0aGlzU3Vic2NyaWJlcnMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghIXRoaXNTdWJzY3JpYmVycykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIHRoaXNTdWJzY3JpYmVyc18xID0gdGhpc1N1YnNjcmliZXJzOyBfaSA8IHRoaXNTdWJzY3JpYmVyc18xLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN1YnNjcmliZXIgPSB0aGlzU3Vic2NyaWJlcnNfMVtfaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyKHBheWxvYWQudmFsdWUudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIElmIFNoZWxsU2RrIHJlY2VpdmUgT1VUTEVULlJFUVVFU1RfQ09OVEVYVCB3aXRoIG9ubHkgYGlzQ29uZmlndXJhdGlvbk1vZGVgIHdlIHByb3BhZ2F0ZSB0byBhbGwgb3V0bGV0c1xyXG4gICAgICAgICAgICAgICAgaWYgKHBheWxvYWQudHlwZSA9PT0gU0hFTExfRVZFTlRTLlZlcnNpb24xLk9VVExFVC5SRVFVRVNUX0NPTlRFWFQgJiZcclxuICAgICAgICAgICAgICAgICAgICBwYXlsb2FkLnZhbHVlLmhhc093blByb3BlcnR5KCdpc0NvbmZpZ3VyYXRpb25Nb2RlJykgJiZcclxuICAgICAgICAgICAgICAgICAgICAhcGF5bG9hZC52YWx1ZS5oYXNPd25Qcm9wZXJ0eSgndGFyZ2V0JykgJiZcclxuICAgICAgICAgICAgICAgICAgICAhcGF5bG9hZC52YWx1ZS5oYXNPd25Qcm9wZXJ0eSgncGx1Z2luJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5vdXRsZXRzTWFwLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtleS5jb250ZW50V2luZG93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkuY29udGVudFdpbmRvdy5wb3N0TWVzc2FnZSh7IHR5cGU6IHBheWxvYWQudHlwZSwgdmFsdWU6IHBheWxvYWQudmFsdWUgfSwgX3RoaXMub3JpZ2luKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gTWVzc2FnZSBoYXMgYSBgdG9gIHZhbHVlLCBzZW5kIHRvIGFuIG91dGxldCBhcyBvbmUgdG8gb25lIGNvbW11bmljYXRpb25cclxuICAgICAgICAgICAgICAgIGlmIChwYXlsb2FkLnRvICYmXHJcbiAgICAgICAgICAgICAgICAgICAgcGF5bG9hZC50by5sZW5ndGggIT09IDAgJiZcclxuICAgICAgICAgICAgICAgICAgICBwYXlsb2FkLnR5cGUgIT09IFNIRUxMX0VWRU5UUy5WZXJzaW9uMS5UT19BUFApIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5kZWJ1Z2dlci50cmFjZUV2ZW50KCdvdXRnb2luZycsIHBheWxvYWQudHlwZSwgcGF5bG9hZC52YWx1ZSwgeyB0bzogcGF5bG9hZC50byB9LCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5vdXRsZXRzTWFwLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBheWxvYWQudG8gJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWQudG8uaW5kZXhPZih2YWx1ZSkgIT09IC0xICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkuY29udGVudFdpbmRvdykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5LmNvbnRlbnRXaW5kb3cucG9zdE1lc3NhZ2Uoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHBheWxvYWQudHlwZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogcGF5bG9hZC52YWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bzogcGF5bG9hZC50by5maWx0ZXIoZnVuY3Rpb24gKGlkKSB7IHJldHVybiBpZCAhPT0gdmFsdWU7IH0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgX3RoaXMub3JpZ2luKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBJZiBpc1Jvb3Qgb3IgbWVzc2FnZSBpcyBmb3IgbWUsIHdlIHNlbmQgdG8gc3Vic2NyaWJlcnMvaGFuZGxlcnNcclxuICAgICAgICAgICAgdmFyIHN1YnNjcmliZXJzID0gX3RoaXMuc3Vic2NyaWJlcnNNYXAuZ2V0KHBheWxvYWQudHlwZSk7XHJcbiAgICAgICAgICAgIF90aGlzLmRlYnVnZ2VyLnRyYWNlRXZlbnQoJ2luY29taW5nJywgcGF5bG9hZC50eXBlLCBwYXlsb2FkLnZhbHVlLCB7IGZyb206IHBheWxvYWQuZnJvbSB9LCAhIXN1YnNjcmliZXJzKTtcclxuICAgICAgICAgICAgaWYgKCEhc3Vic2NyaWJlcnMpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIF9hID0gMCwgc3Vic2NyaWJlcnNfMSA9IHN1YnNjcmliZXJzOyBfYSA8IHN1YnNjcmliZXJzXzEubGVuZ3RoOyBfYSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN1YnNjcmliZXIgPSBzdWJzY3JpYmVyc18xW19hXTtcclxuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyKHBheWxvYWQudmFsdWUsIGV2ZW50Lm9yaWdpbiwgcGF5bG9hZC50eXBlID09PSBTSEVMTF9FVkVOVFMuVmVyc2lvbjEuU0VUX1ZJRVdfU1RBVEVcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyBudWxsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogcGF5bG9hZC5mcm9tKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBPbiBSRVFVSVJFX0NPTlRFWFQsIHdlIHNwbGl0IGFuZCBwcm9wYWdhdGUgdmlld1N0YXRlXHJcbiAgICAgICAgICAgIC8vIE5lZWQgdG8gYmUgZG9uZSBBRlRFUiBSRVFVSVJFX0NPTlRFWFQgZXZlbnQgaW4gY2FzZSBvZiBwbHVnaW4gbmVlZCBhdXRoIG9yIGNvbnRleHQuXHJcbiAgICAgICAgICAgIGlmICghX3RoaXMuaXNSb290ICYmXHJcbiAgICAgICAgICAgICAgICBwYXlsb2FkLnR5cGUgPT09IFNIRUxMX0VWRU5UUy5WZXJzaW9uMS5SRVFVSVJFX0NPTlRFWFQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBjb250ZXh0ID0gdHlwZW9mIHBheWxvYWQudmFsdWUgPT09ICdzdHJpbmcnXHJcbiAgICAgICAgICAgICAgICAgICAgPyBKU09OLnBhcnNlKHBheWxvYWQudmFsdWUpXHJcbiAgICAgICAgICAgICAgICAgICAgOiBwYXlsb2FkLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgdmFyIHZpZXdTdGF0ZSA9IGNvbnRleHQudmlld1N0YXRlO1xyXG4gICAgICAgICAgICAgICAgaWYgKHZpZXdTdGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9iID0gMCwgX2MgPSBPYmplY3Qua2V5cyh2aWV3U3RhdGUpOyBfYiA8IF9jLmxlbmd0aDsgX2IrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIga2V5ID0gX2NbX2JdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc1N1YnNjcmliZXJzID0gX3RoaXMuc3Vic2NyaWJlcnNWaWV3U3RhdGVNYXAuZ2V0KFwiXCIgKyBrZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISF0aGlzU3Vic2NyaWJlcnMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9kID0gMCwgdGhpc1N1YnNjcmliZXJzXzIgPSB0aGlzU3Vic2NyaWJlcnM7IF9kIDwgdGhpc1N1YnNjcmliZXJzXzIubGVuZ3RoOyBfZCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN1YnNjcmliZXIgPSB0aGlzU3Vic2NyaWJlcnNfMltfZF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlcih2aWV3U3RhdGVba2V5XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBfdGhpcy50YXJnZXQucG9zdE1lc3NhZ2UoeyB0eXBlOiBTSEVMTF9FVkVOVFMuVmVyc2lvbjEuT1VUTEVULkxPQURJTkdfU1VDQ0VTUyB9LCBfdGhpcy5vcmlnaW4pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnN1YnNjcmliZXJzTWFwID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMuc3Vic2NyaWJlcnNWaWV3U3RhdGVNYXAgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5vdXRsZXRzTWFwID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMuaW5pdE1lc3NhZ2VBcGkoKTtcclxuICAgICAgICB0aGlzLmRlYnVnZ2VyID0gbmV3IERlYnVnZ2VyKHdpblJlZiwgZGVidWdJZCk7XHJcbiAgICAgICAgdGhpcy5pc1Jvb3QgPSB0YXJnZXQgPT0gbnVsbDtcclxuICAgIH1cclxuICAgIFNoZWxsU2RrLmluaXQgPSBmdW5jdGlvbiAodGFyZ2V0LCBvcmlnaW4sIHdpblJlZiwgZGVidWdJZCwgb3V0bGV0TWF4aW11bURlcHRoKSB7XHJcbiAgICAgICAgaWYgKHdpblJlZiA9PT0gdm9pZCAwKSB7IHdpblJlZiA9IHdpbmRvdzsgfVxyXG4gICAgICAgIGlmIChkZWJ1Z0lkID09PSB2b2lkIDApIHsgZGVidWdJZCA9ICcnOyB9XHJcbiAgICAgICAgaWYgKG91dGxldE1heGltdW1EZXB0aCA9PT0gdm9pZCAwKSB7IG91dGxldE1heGltdW1EZXB0aCA9IERFRkFVTFRfTUFYSU1VTV9ERVBUSDsgfVxyXG4gICAgICAgIFNoZWxsU2RrLl9pbnN0YW5jZSA9IG5ldyBTaGVsbFNkayh0YXJnZXQsIG9yaWdpbiwgd2luUmVmLCBkZWJ1Z0lkLCBvdXRsZXRNYXhpbXVtRGVwdGgpO1xyXG4gICAgICAgIHJldHVybiBTaGVsbFNkay5faW5zdGFuY2U7XHJcbiAgICB9O1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNoZWxsU2RrLCBcImluc3RhbmNlXCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKCFTaGVsbFNkay5faW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlNoZWxsU2RrIHdhc24ndCBpbml0aWFsaXplZC5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIFNoZWxsU2RrLl9pbnN0YW5jZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIFNoZWxsU2RrLmlzSW5zaWRlU2hlbGwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gdXNpbmcgbG9jYWwgdmFyaWFibGUgZm9yIHdpbmRvdyByZWZlcmVuY2UgYmVsb3cgbmVlZGVkIHRvIGZpeCBpc3N1ZSB3aGVuIHJ1bm5pbmcgdGVzdHNcclxuICAgICAgICAvLyBmb3IgYXBwbGljYXRpb25zIHdoaWNoIHVzZSBmc20tc2hlbGwgaW4gY3lwcmVzc1xyXG4gICAgICAgIC8vIGN5cHJlc3MgbWF5IHJlcGxhY2UgYHdpbmRvdy5zZWxmICE9PSB3aW5kb3cudG9wYCB3aXRoIGB3aW5kb3cuc2VsZiAhPT0gd2luZG93LnNlbGZgXHJcbiAgICAgICAgLy8gd2hhdCBtYWtlcyBpc0luc2lkZVNoZWxsIG1ldGhvZCByZXR1cm5pbmcgd3JvbmcgdmFsdWVcclxuICAgICAgICB2YXIgd2luUmVmID0gd2luZG93O1xyXG4gICAgICAgIHJldHVybiB3aW5SZWYuc2VsZiAhPT0gd2luUmVmLnRvcDtcclxuICAgIH07XHJcbiAgICBTaGVsbFNkay5wcm90b3R5cGUuc2V0QWxsb3dlZE9yaWdpbnMgPSBmdW5jdGlvbiAoYWxsb3dlZE9yaWdpbnMpIHtcclxuICAgICAgICBpZiAoYWxsb3dlZE9yaWdpbnMgPT09IHZvaWQgMCkgeyBhbGxvd2VkT3JpZ2lucyA9IFtdOyB9XHJcbiAgICAgICAgdGhpcy5hbGxvd2VkT3JpZ2lucyA9IGFsbG93ZWRPcmlnaW5zID09PSAnKicgPyBbXSA6IGFsbG93ZWRPcmlnaW5zO1xyXG4gICAgfTtcclxuICAgIFNoZWxsU2RrLnByb3RvdHlwZS5hZGRBbGxvd2VkT3JpZ2luID0gZnVuY3Rpb24gKHVybCkge1xyXG4gICAgICAgIHZhciB1cmxPYmo7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdXJsT2JqID0gbmV3IFVSTCh1cmwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoX2EpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmFsbG93ZWRPcmlnaW5zLnB1c2godXJsT2JqLm9yaWdpbik7XHJcbiAgICB9O1xyXG4gICAgU2hlbGxTZGsucHJvdG90eXBlLnJlbW92ZUFsbG93ZWRPcmlnaW4gPSBmdW5jdGlvbiAodXJsKSB7XHJcbiAgICAgICAgdmFyIHVybE9iajtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB1cmxPYmogPSBuZXcgVVJMKHVybCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChfYSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBpZHhUb1JlbW92ZSA9IHRoaXMuYWxsb3dlZE9yaWdpbnMuZmluZEluZGV4KGZ1bmN0aW9uIChhbGxvd2VkT3JpZ2luKSB7IHJldHVybiBhbGxvd2VkT3JpZ2luID09PSB1cmxPYmoub3JpZ2luOyB9KTtcclxuICAgICAgICB0aGlzLmFsbG93ZWRPcmlnaW5zID0gdGhpcy5hbGxvd2VkT3JpZ2lucy5maWx0ZXIoZnVuY3Rpb24gKF9hbGxvd2VkT3JpZ2luLCBvcmlnaW5JZHgpIHsgcmV0dXJuIG9yaWdpbklkeCAhPT0gaWR4VG9SZW1vdmU7IH0pO1xyXG4gICAgfTtcclxuICAgIFNoZWxsU2RrLnByb3RvdHlwZS5pc09yaWdpbkFsbG93ZWQgPSBmdW5jdGlvbiAodXJsKSB7XHJcbiAgICAgICAgdmFyIHVybE9iajtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB1cmxPYmogPSBuZXcgVVJMKHVybCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChfYSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLmFsbG93ZWRPcmlnaW5zLnNvbWUoZnVuY3Rpb24gKGFsbG93ZWRPcmlnaW4pIHsgcmV0dXJuIGFsbG93ZWRPcmlnaW4gPT09IHVybE9iai5vcmlnaW47IH0pO1xyXG4gICAgfTtcclxuICAgIFNoZWxsU2RrLnByb3RvdHlwZS5zZXRJZ25vcmVkT3JpZ2lucyA9IGZ1bmN0aW9uIChpZ25vcmVkT3JpZ2lucykge1xyXG4gICAgICAgIGlmIChpZ25vcmVkT3JpZ2lucyA9PT0gdm9pZCAwKSB7IGlnbm9yZWRPcmlnaW5zID0gW107IH1cclxuICAgICAgICB0aGlzLmlnbm9yZWRPcmlnaW5zID0gaWdub3JlZE9yaWdpbnM7XHJcbiAgICB9O1xyXG4gICAgU2hlbGxTZGsucHJvdG90eXBlLmFkZElnbm9yZWRPcmlnaW4gPSBmdW5jdGlvbiAodXJsKSB7XHJcbiAgICAgICAgdmFyIHVybE9iajtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB1cmxPYmogPSBuZXcgVVJMKHVybCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChfYSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuaWdub3JlZE9yaWdpbnMucHVzaCh1cmxPYmoub3JpZ2luKTtcclxuICAgIH07XHJcbiAgICBTaGVsbFNkay5wcm90b3R5cGUucmVtb3ZlSWdub3JlZE9yaWdpbiA9IGZ1bmN0aW9uICh1cmwpIHtcclxuICAgICAgICB2YXIgdXJsT2JqO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHVybE9iaiA9IG5ldyBVUkwodXJsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKF9hKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGlkeFRvUmVtb3ZlID0gdGhpcy5pZ25vcmVkT3JpZ2lucy5maW5kSW5kZXgoZnVuY3Rpb24gKGlnbm9yZWRPcmlnaW5zKSB7IHJldHVybiBpZ25vcmVkT3JpZ2lucyA9PT0gdXJsT2JqLm9yaWdpbjsgfSk7XHJcbiAgICAgICAgdGhpcy5pZ25vcmVkT3JpZ2lucyA9IHRoaXMuaWdub3JlZE9yaWdpbnMuZmlsdGVyKGZ1bmN0aW9uIChfaWdub3JlZE9yaWdpbnMsIG9yaWdpbklkeCkgeyByZXR1cm4gb3JpZ2luSWR4ICE9PSBpZHhUb1JlbW92ZTsgfSk7XHJcbiAgICB9O1xyXG4gICAgLy8gQ2FsbGVkIGJ5IG91dGxldCBjb21wb25lbnQgdG8gYXNzaWduIGFuIGdlbmVyYXRlZCB1dWlkIHRvIGFuIGlmcmFtZS4gVGhpcyBpcyBrZXlcclxuICAgIC8vIHRvIGFsbG93IG9uZSB0byBvbmUgY29tbXVuaWNhdGlvbiBiZXR3ZWVuIGEgcGx1Z2luZyBhbmQgc2hlbGwtaG9zdFxyXG4gICAgU2hlbGxTZGsucHJvdG90eXBlLnJlZ2lzdGVyT3V0bGV0ID0gZnVuY3Rpb24gKGZyYW1lKSB7XHJcbiAgICAgICAgdGhpcy5vdXRsZXRzTWFwLnNldChmcmFtZSwgdXVpZHY0KCkpO1xyXG4gICAgfTtcclxuICAgIFNoZWxsU2RrLnByb3RvdHlwZS51bnJlZ2lzdGVyT3V0bGV0ID0gZnVuY3Rpb24gKGZyYW1lKSB7XHJcbiAgICAgICAgdGhpcy5vdXRsZXRzTWFwLmRlbGV0ZShmcmFtZSk7XHJcbiAgICB9O1xyXG4gICAgU2hlbGxTZGsucHJvdG90eXBlLmdldFRhcmdldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50YXJnZXQ7XHJcbiAgICB9O1xyXG4gICAgU2hlbGxTZGsucHJvdG90eXBlLnNldFRhcmdldCA9IGZ1bmN0aW9uICh0YXJnZXQsIG9yaWdpbikge1xyXG4gICAgICAgIHZhciB0YXJnZXRDaGFuZ2VkID0gdGhpcy50YXJnZXQgIT09IHRhcmdldCB8fCB0aGlzLm9yaWdpbiAhPT0gb3JpZ2luO1xyXG4gICAgICAgIGlmICh0YXJnZXRDaGFuZ2VkKSB7XHJcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xyXG4gICAgICAgICAgICB0aGlzLm9yaWdpbiA9IG9yaWdpbjtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgU2hlbGxTZGsucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbiAodHlwZSwgdmFsdWUsIHRvKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnBvc3RNZXNzYWdlSGFuZGxlcikge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTaGVsbFNkayB3YXNuJ3QgaW5pdGlhbGl6ZWQsIG1lc3NhZ2UgaGFuZGxlciBub3Qgc2V0LlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gT25seSByb290IGNhbiBzZW5kIGEgbWVzc2FnZSB0byBhIHNwZWNpZmljIG5vZGVcclxuICAgICAgICB0aGlzLnBvc3RNZXNzYWdlSGFuZGxlcih0eXBlLCB2YWx1ZSwgdGhpcy5pc1Jvb3QgPyB0byA6IHVuZGVmaW5lZCk7XHJcbiAgICB9O1xyXG4gICAgU2hlbGxTZGsucHJvdG90eXBlLnNldFZpZXdTdGF0ZSA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnBvc3RNZXNzYWdlSGFuZGxlcikge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTaGVsbFNkayB3YXNuJ3QgaW5pdGlhbGl6ZWQsIG1lc3NhZ2UgaGFuZGxlciBub3Qgc2V0LlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5wb3N0TWVzc2FnZUhhbmRsZXIoU0hFTExfRVZFTlRTLlZlcnNpb24xLlNFVF9WSUVXX1NUQVRFLCB7XHJcbiAgICAgICAgICAgIGtleToga2V5LFxyXG4gICAgICAgICAgICB2YWx1ZTogdmFsdWUsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lXHJcbiAgICBTaGVsbFNkay5wcm90b3R5cGUucmVtb3ZlU3Vic2NyaWJlciA9IGZ1bmN0aW9uICh0eXBlLCBzdWJzY3JpYmVyKSB7XHJcbiAgICAgICAgdmFyIHN1YnNjcmliZXJzID0gdGhpcy5zdWJzY3JpYmVyc01hcC5nZXQodHlwZSk7XHJcbiAgICAgICAgaWYgKCEhc3Vic2NyaWJlcnMpIHtcclxuICAgICAgICAgICAgdGhpcy5zdWJzY3JpYmVyc01hcC5zZXQodHlwZSwgc3Vic2NyaWJlcnMuZmlsdGVyKGZ1bmN0aW9uIChpdCkgeyByZXR1cm4gaXQgIT09IHN1YnNjcmliZXI7IH0pKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lXHJcbiAgICBTaGVsbFNkay5wcm90b3R5cGUucmVtb3ZlVmlld1N0YXRlU3Vic2NyaWJlciA9IGZ1bmN0aW9uICh0eXBlLCBzdWJzY3JpYmVyKSB7XHJcbiAgICAgICAgdmFyIHN1YnNjcmliZXJzID0gdGhpcy5zdWJzY3JpYmVyc1ZpZXdTdGF0ZU1hcC5nZXQodHlwZSk7XHJcbiAgICAgICAgaWYgKCEhc3Vic2NyaWJlcnMpIHtcclxuICAgICAgICAgICAgdGhpcy5zdWJzY3JpYmVyc1ZpZXdTdGF0ZU1hcC5zZXQodHlwZSwgc3Vic2NyaWJlcnMuZmlsdGVyKGZ1bmN0aW9uIChpdCkgeyByZXR1cm4gaXQgIT09IHN1YnNjcmliZXI7IH0pKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgU2hlbGxTZGsucHJvdG90eXBlLmluaXRNZXNzYWdlQXBpID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5wb3N0TWVzc2FnZUhhbmRsZXIgPSBmdW5jdGlvbiAodHlwZSwgdmFsdWUsIHRvKSB7XHJcbiAgICAgICAgICAgIGlmICghX3RoaXMudGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTaGVsbFNkayB3YXNuJ3QgaW5pdGlhbGl6ZWQsIHRhcmdldCBpcyBtaXNzaW5nLlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIV90aGlzLm9yaWdpbikge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU2hlbGxTZGsgd2Fzbid0IGluaXRpYWxpemVkLCBvcmlnaW4gaXMgbWlzc2luZy5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgX3RoaXMuZGVidWdnZXIudHJhY2VFdmVudCgnb3V0Z29pbmcnLCB0eXBlLCB2YWx1ZSwgeyB0bzogdG8gfSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIF90aGlzLnRhcmdldC5wb3N0TWVzc2FnZSh7IHR5cGU6IHR5cGUsIHZhbHVlOiB2YWx1ZSwgdG86IHRvIH0sIF90aGlzLm9yaWdpbik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLndpblJlZi5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgdGhpcy5vbk1lc3NhZ2UpO1xyXG4gICAgfTtcclxuICAgIFNoZWxsU2RrLlZFUlNJT04gPSBTSEVMTF9WRVJTSU9OX0lORk8uVkVSU0lPTjtcclxuICAgIFNoZWxsU2RrLkJVSUxEX1RTID0gU0hFTExfVkVSU0lPTl9JTkZPLkJVSUxEX1RTO1xyXG4gICAgcmV0dXJuIFNoZWxsU2RrO1xyXG59KCkpO1xuXG5leHBvcnQgeyBFcnJvclR5cGUsIFNIRUxMX0VWRU5UUywgU2hlbGxTZGsgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZzbS1zaGVsbC1jbGllbnQuZXMuanMubWFwXG4iLCJpbXBvcnQgKiBhcyBzaGVsbFNka0hlbHBlciBmcm9tICcuL3NoZWxsLXNkay1oZWxwZXInO1xuXG5jb25zdCB1cGRhdGVVSSA9ICh0ZXh0OiBzdHJpbmcpID0+IHtcbiAgICAoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnI2luZm8nKVswXSBhcyBhbnkpLmlubmVySFRNTCA9IHRleHQ7XG59O1xuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGFzeW5jICgpID0+IHtcblxuICAgIGxldCBVSUNvbnRleHRMaXN0ID0gJyc7XG5cbiAgICBpZiAoc2hlbGxTZGtIZWxwZXIuaXNJbnNpZGVTaGVsbCkge1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gYXdhaXQgc2hlbGxTZGtIZWxwZXIuZ2V0Q29udGV4dCgpO1xuXG4gICAgICAgIFVJQ29udGV4dExpc3QgPSAnPHVsPic7XG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGNvbnRleHQpKSB7XG4gICAgICAgICAgICBVSUNvbnRleHRMaXN0ID0gVUlDb250ZXh0TGlzdCArICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnID9cbiAgICAgICAgICAgICAgICAnPGxpPicgKyBgJHtrZXl9OiAke0pTT04uc3RyaW5naWZ5KHZhbHVlKX1gICsgJzwvbGk+JyA6XG4gICAgICAgICAgICAgICAgJzxsaT4nICsgYCR7a2V5fTogJHt2YWx1ZX1gICsgJzwvbGk+Jyk7XG4gICAgICAgIH1cbiAgICAgICAgVUlDb250ZXh0TGlzdCA9IFVJQ29udGV4dExpc3QgKyAnPC91bD4nO1xuICAgIH1cblxuICAgIHVwZGF0ZVVJKFVJQ29udGV4dExpc3QpO1xuXG4gICAgY29uc3QgZmlsZVNlbGVjdDogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZpbGVTZWxlY3RcIikhO1xuICAgIGNvbnN0IGZpbGVFbGVtOiBhbnkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZpbGVFbGVtXCIpITtcbiAgICBjb25zdCBmaWxlTGlzdDogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZpbGVMaXN0XCIpITtcbiAgICBcbiAgICBjb25zb2xlLmxvZyhcIkVMRU1FTlRTOiBcIiwge1xuICAgICAgICBmaWxlU2VsZWN0LFxuICAgICAgICBmaWxlRWxlbSxcbiAgICAgICAgZmlsZUxpc3RcbiAgICB9KTtcbiAgICBcbiAgICBmaWxlU2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgY29uc29sZS5sb2coXCJGaWxlIHNlbGVjdCBjbGllY2tlZFwiKTtcbiAgICAgIGlmIChmaWxlRWxlbSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiVHJpZ2dlciBmaWxlRWxlbSBjbGlja1wiKTtcbiAgICAgICAgZmlsZUVsZW0uY2xpY2soKTtcbiAgICAgIH1cbiAgICAgIGUucHJldmVudERlZmF1bHQoKTsgLy8gcHJldmVudCBuYXZpZ2F0aW9uIHRvIFwiI1wiXG4gICAgfSwgZmFsc2UpO1xuICAgIFxuICAgIGZpbGVFbGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgaGFuZGxlRmlsZXMsIGZhbHNlKTtcblxuICAgIGZ1bmN0aW9uIGhhbmRsZUZpbGVzKCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcImZpbGVFbGVtIGNoYW5nZWRcIik7XG4gICAgICAgIGlmICghZmlsZUVsZW0uZmlsZXMubGVuZ3RoKSB7XG4gICAgICAgICAgZmlsZUxpc3QuaW5uZXJIVE1MID0gXCI8cD5ObyBmaWxlcyBzZWxlY3RlZCE8L3A+XCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZmlsZUxpc3QuaW5uZXJIVE1MID0gXCJcIjtcbiAgICAgICAgICBjb25zdCBsaXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInVsXCIpO1xuICAgICAgICAgIGZpbGVMaXN0LmFwcGVuZENoaWxkKGxpc3QpO1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmlsZUVsZW0uZmlsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xuICAgICAgICAgICAgbGlzdC5hcHBlbmRDaGlsZChsaSk7XG4gICAgICBcbiAgICAgICAgICAgIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcbiAgICAgICAgICAgIGxpbmsuaW5uZXJIVE1MID0gYERvd25sb2FkIGZpbGUgJHtpKzF9YDtcbiAgICAgICAgICAgIGxpbmsuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZUVsZW0uZmlsZXNbaV0pO1xuICAgICAgICAgICAgbGluay5kb3dubG9hZCA9IGZpbGVFbGVtLmZpbGVzW2ldLm5hbWU7XG5cbiAgICAgICAgICAgIGxpLmFwcGVuZENoaWxkKGxpbmspO1xuICAgICAgICAgICAgY29uc3QgaW5mbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgICAgICAgICAgaW5mby5pbm5lckhUTUwgPSBmaWxlRWxlbS5maWxlc1tpXS5uYW1lICsgXCI6IFwiICsgZmlsZUVsZW0uZmlsZXNbaV0uc2l6ZSArIFwiIGJ5dGVzXCI7XG4gICAgICAgICAgICBsaS5hcHBlbmRDaGlsZChpbmZvKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxufSk7XG4iLCJcbmltcG9ydCB7IFNoZWxsU2RrLCBTSEVMTF9FVkVOVFMgfSBmcm9tICdmc20tc2hlbGwnO1xuXG5cbi8vIEluaXRpYWxpemUgU2hlbGxTREsgdG8gY29ubmVjdCB3aXRoIHBhcmVudCBzaGVsbCBsaWJyYXJ5XG5sZXQgc2hlbGxTZGs6IFNoZWxsU2RrIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuaWYgKFNoZWxsU2RrLmlzSW5zaWRlU2hlbGwoKSkge1xuICBzaGVsbFNkayA9IFNoZWxsU2RrLmluaXQocGFyZW50LCAnKicpO1xufVxuXG5cbmV4cG9ydCBjb25zdCBpc0luc2lkZVNoZWxsID0gISFzaGVsbFNkaztcblxuZXhwb3J0IGNvbnN0IGdldENvbnRleHQgPSAoKSA9PiBuZXcgUHJvbWlzZTx7W3g6c3RyaW5nXTogYW55fT4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXG4gIGlmICghc2hlbGxTZGspIHsgcmVqZWN0KCdBcHAgaXMgbm90IHJ1bm5pbmcgaW5zaWRlIFNoZWxsJyk7IHJldHVybjsgfVxuXG4gIC8vIEluaXRpYWxpemUgdGhlIGV4dGVuc2lvbiBieSByZXF1ZXN0aW5nIHRoZSBmc20gY29udGV4dFxuICBzaGVsbFNkay5lbWl0KFNIRUxMX0VWRU5UUy5WZXJzaW9uMS5SRVFVSVJFX0NPTlRFWFQsIHtcbiAgICBhdXRoOiB7XG4gICAgICByZXNwb25zZV90eXBlOiAndG9rZW4nICAvLyByZXF1ZXN0IGEgdXNlciB0b2tlbiB3aXRoaW4gdGhlIGNvbnRleHRcbiAgICB9XG4gIH0pO1xuXG4gIC8vIENhbGxiYWNrIG9uIGZzbSBjb250ZXh0IHJlc3BvbnNlXG4gIHNoZWxsU2RrLm9uKFNIRUxMX0VWRU5UUy5WZXJzaW9uMS5SRVFVSVJFX0NPTlRFWFQsIChldmVudDogc3RyaW5nKSA9PiB7XG4gICAgcmVzb2x2ZShKU09OLnBhcnNlKGV2ZW50KSk7XG4gIH0pO1xuXG59KTsiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsIi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLy8gVGhpcyBlbnRyeSBtb2R1bGUgaXMgcmVmZXJlbmNlZCBieSBvdGhlciBtb2R1bGVzIHNvIGl0IGNhbid0IGJlIGlubGluZWRcbnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MDcpO1xuIl0sIm5hbWVzIjpbIkVycm9yVHlwZSIsIlNIRUxMX0VWRU5UUyIsIlZlcnNpb24xIiwiUkVRVUlSRV9DT05URVhUIiwiUkVRVUlSRV9BVVRIRU5USUNBVElPTiIsIkNMT1NFIiwiUkVRVUlSRV9QRVJNSVNTSU9OUyIsIkdFVF9QRVJNSVNTSU9OUyIsIkdFVF9TRVRUSU5HUyIsIkdFVF9TVE9SQUdFX0lURU0iLCJTRVRfU1RPUkFHRV9JVEVNIiwiU0VUX1ZJRVdfU1RBVEUiLCJTRVRfVElUTEUiLCJSRVNUT1JFX1RJVExFIiwiVE9fQVBQIiwiR0VUX0ZFQVRVUkVfRkxBRyIsIlBSSVZBVEUiLCJHRVRfQUNDT1VOVF9TRVRUSU5HUyIsIk9VVExFVCIsIkFERF9QTFVHSU4iLCJSRU1PVkVfUExVR0lOIiwiUkVRVUVTVF9DT05URVhUIiwiTE9BRElOR19TVUNDRVNTIiwiTE9BRElOR19GQUlMIiwiVmVyc2lvbjIiLCJFUlJPUiIsImdldEtleVZhbHVlcyIsInNvdXJjZSIsImluaXRpYWwiLCJyZXN1bHQiLCJzbGljZSIsImtleSIsInB1c2giLCJBTExfU0hFTExfRVZFTlRTX0FSUkFZIiwiTWVzc2FnZUxvZ2dlciIsInRoaXMiLCJtZXNzYWdlcyIsInByb3RvdHlwZSIsImV2ZW50IiwiZGVidWdJZCIsImFjdGlvbiIsImRpcmVjdGlvbiIsImhhbmRsZWQiLCJjb25zb2xlIiwibG9nIiwiYWxsIiwiYWxsVGFibGUiLCJ0YWJsZSIsImZpbHRlciIsIm9wdGlvbnMiLCJtZXNzYWdlIiwidHlwZSIsIkFycmF5IiwiaXNBcnJheSIsInNvbWUiLCJSZWdFeHAiLCJ0ZXN0IiwiY29tcG9uZW50IiwiaXQiLCJmcm9tIiwidGltZXN0YW1wIiwidG8iLCJmaWx0ZXJUYWJsZSIsIkRlYnVnZ2VyIiwid2luUmVmIiwiZGVidWdNb2RlIiwibG9jYWxTdG9yYWdlVmFsdWUiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwic3BsaXQiLCJ0cmFjZUV2ZW50IiwicGF5bG9hZCIsInJvdXRpbmciLCJoYXNIYW5kbGVyIiwiZGVidWdFdmVudCIsIkRhdGUiLCJsb2dFdmVudCIsIndpbiIsImZzbVNoZWxsTWVzc2FnZUxvZ2dlciIsIlNoZWxsU2RrIiwidGFyZ2V0Iiwib3JpZ2luIiwib3V0bGV0TWF4aW11bURlcHRoIiwiX3RoaXMiLCJhbGxvd2VkT3JpZ2lucyIsImlnbm9yZWRPcmlnaW5zIiwib24iLCJzdWJzY3JpYmVyIiwic3Vic2NyaWJlcnNNYXAiLCJoYXMiLCJzZXQiLCJnZXQiLCJyZW1vdmVTdWJzY3JpYmVyIiwib25WaWV3U3RhdGUiLCJzdWJzY3JpYmVyc1ZpZXdTdGF0ZU1hcCIsInJlbW92ZVZpZXdTdGF0ZVN1YnNjcmliZXIiLCJvZmYiLCJvZmZWaWV3U3RhdGUiLCJvbk1lc3NhZ2UiLCJkYXRhIiwid2luZG93IiwicGFyZW50IiwibGVuZ3RoIiwiaW5kZXhPZiIsImVycm9yIiwiaXNSb290Iiwic291cmNlXzEiLCJpRnJhbWVFbGVtZW50Iiwib3V0bGV0c01hcCIsImtleXMiLCJmaW5kIiwiZnJhbWUiLCJjb250ZW50V2luZG93Iiwic3JjIiwiVVJMIiwiZGVidWdnZXIiLCJ2YWx1ZSIsIndhcm4iLCJwb3N0TWVzc2FnZSIsIk9VVExFVF9NQVhJTVVNX0RFUFRIIiwidXVpZCIsImNvbmNhdCIsImZvckVhY2giLCJ0aGlzU3Vic2NyaWJlcnMiLCJfaSIsInRoaXNTdWJzY3JpYmVyc18xIiwiaGFzT3duUHJvcGVydHkiLCJpZCIsInN1YnNjcmliZXJzIiwiX2EiLCJzdWJzY3JpYmVyc18xIiwidmlld1N0YXRlIiwiSlNPTiIsInBhcnNlIiwiX2IiLCJfYyIsIk9iamVjdCIsIl9kIiwidGhpc1N1YnNjcmliZXJzXzIiLCJNYXAiLCJpbml0TWVzc2FnZUFwaSIsImluaXQiLCJfaW5zdGFuY2UiLCJkZWZpbmVQcm9wZXJ0eSIsIkVycm9yIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsImlzSW5zaWRlU2hlbGwiLCJzZWxmIiwidG9wIiwic2V0QWxsb3dlZE9yaWdpbnMiLCJhZGRBbGxvd2VkT3JpZ2luIiwidXJsIiwidXJsT2JqIiwicmVtb3ZlQWxsb3dlZE9yaWdpbiIsImlkeFRvUmVtb3ZlIiwiZmluZEluZGV4IiwiYWxsb3dlZE9yaWdpbiIsIl9hbGxvd2VkT3JpZ2luIiwib3JpZ2luSWR4IiwiaXNPcmlnaW5BbGxvd2VkIiwic2V0SWdub3JlZE9yaWdpbnMiLCJhZGRJZ25vcmVkT3JpZ2luIiwicmVtb3ZlSWdub3JlZE9yaWdpbiIsIl9pZ25vcmVkT3JpZ2lucyIsInJlZ2lzdGVyT3V0bGV0IiwicmVwbGFjZSIsImMiLCJyIiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwidW5yZWdpc3Rlck91dGxldCIsImRlbGV0ZSIsImdldFRhcmdldCIsInNldFRhcmdldCIsImVtaXQiLCJwb3N0TWVzc2FnZUhhbmRsZXIiLCJ1bmRlZmluZWQiLCJzZXRWaWV3U3RhdGUiLCJhZGRFdmVudExpc3RlbmVyIiwiVkVSU0lPTiIsIkJVSUxEX1RTIiwiYXN5bmMiLCJVSUNvbnRleHRMaXN0Iiwic2hlbGxTZGtIZWxwZXIiLCJjb250ZXh0IiwiZ2V0Q29udGV4dCIsImVudHJpZXMiLCJzdHJpbmdpZnkiLCJ0ZXh0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW5uZXJIVE1MIiwiZmlsZVNlbGVjdCIsImdldEVsZW1lbnRCeUlkIiwiZmlsZUVsZW0iLCJmaWxlTGlzdCIsImUiLCJjbGljayIsInByZXZlbnREZWZhdWx0IiwiZmlsZXMiLCJsaXN0IiwiY3JlYXRlRWxlbWVudCIsImFwcGVuZENoaWxkIiwiaSIsImxpIiwibGluayIsImhyZWYiLCJjcmVhdGVPYmplY3RVUkwiLCJkb3dubG9hZCIsIm5hbWUiLCJpbmZvIiwic2l6ZSIsInNoZWxsU2RrIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJhdXRoIiwicmVzcG9uc2VfdHlwZSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiY2FsbCIsImQiLCJkZWZpbml0aW9uIiwibyIsIm9iaiIsInByb3AiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyJdLCJzb3VyY2VSb290IjoiIn0=